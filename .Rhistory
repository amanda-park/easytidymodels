trainTestSplit <- function(data = dat,
splitAmt = .8,
timeDependent = FALSE,
responseVar = "has30DayReadmission",
stratifyOnResponse = FALSE) {
if(timeDependent == FALSE) {
if(stratifyOnResponse == FALSE) {
split <- rsample::initial_split(data,
prop = splitAmt)
}
else {
split <- rsample::initial_split(data,
prop = splitAmt,
strata = !!responseVar)
}
}
else {
split <- rsample::initial_time_split(data,
prop = splitAmt)
}
datTrain <- training(split)
datTest <- testing(split)
datBoot <- bootstraps(datTrain)
res <- list("datTrain" = datTrain,
"datTest" = datTest,
"datBoot" = datBoot)
return(res)
}
use_r("trainTestSplit")
require(devtools)
use_r("trainTestSplit")
load_all()
load_all()
knitr::opts_chunk$set(echo = TRUE)
#Set working directory and load functions in
#setwd("C:/Users/youid/Dropbox/Professional")
source("TidyModelsFunctions.R")
require(pacman)
p_load(
tidymodels,
vip,
fastshap,
doParallel,
xgboost,
glmnet,
earth,
patchwork,
margins,
ggfortify,
modeltime,
timetk,
modeltime.ensemble,
modeltime.resample,
update = FALSE
)
set.seed(24)
d <- data.frame(a = c(rep(1, 50), rep(0, 50)),
b = rnorm(100),
c = rnorm(100),
da = c(rnorm(55), rnorm(45, 5)),
e = c(rnorm(30, 1), rnorm(70, 5)),
f = c(rnorm(40, 0), rnorm(60, 4))
#g = c(rep(1, 20), rep(2, 40), rep(3, 40))
)
d$a <- as.factor(d$a)
#d$g <- as.factor(d$g)
knitr::opts_chunk$set(echo = TRUE)
#Set working directory and load functions in
#setwd("C:/Users/youid/Dropbox/Professional")
#source("TidyModelsFunctions.R")
require(pacman)
p_load(
tidymodels,
vip,
fastshap,
doParallel,
xgboost,
glmnet,
earth,
patchwork,
margins,
ggfortify,
modeltime,
timetk,
modeltime.ensemble,
modeltime.resample,
update = FALSE
)
set.seed(24)
d <- data.frame(a = c(rep(1, 50), rep(0, 50)),
b = rnorm(100),
c = rnorm(100),
da = c(rnorm(55), rnorm(45, 5)),
e = c(rnorm(30, 1), rnorm(70, 5)),
f = c(rnorm(40, 0), rnorm(60, 4))
#g = c(rep(1, 20), rep(2, 40), rep(3, 40))
)
d$a <- as.factor(d$a)
#d$g <- as.factor(d$g)
trainTestSplit(data = d, responseVar = "da")
check()
use_mit_license()
options(usethis.full_name = "Amanda Park")
use_mit_license()
use_mit_license()
use_mit_license()
document()
?trainTestSplit
?trainTestSplit
document()
?trainTestSplit
document()
?trainTestSplit
check()
export(trainTestSplit)
install()
trainTestSplit(d, responseVar = "da")
use_testthat()
use_test()
use_package()
use_package("tidymodels")
?training
usethis::use_github()
usethis::browse_github_token()
usethis::edit_r_environ()
usethis::use_github()
require(usethis)
?use_github
use_readme_rmd()
library(easytidymodels)
df <- data.frame(var1 = c(rep(1, 50), rep(0, 50)),
var2 = rnorm(100),
var3 = c(rnorm(55), rnorm(45, 5)))
split <- trainTestSplit(data = df)
load_all()
require(usethis)
require(testthat)
require(devtools)
library(easytidymodels)
df <- data.frame(var1 = c(rep(1, 50), rep(0, 50)),
var2 = rnorm(100),
var3 = c(rnorm(55), rnorm(45, 5)))
split <- trainTestSplit(data = df)
use_package("rsample")
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>",
fig.path = "man/figures/README-",
out.width = "100%"
)
library(easytidymodels)
df <- data.frame(var1 = c(rep(1, 50), rep(0, 50)),
var2 = rnorm(100),
var3 = c(rnorm(55), rnorm(45, 5)))
split <- trainTestSplit(data = df)
load_all()
library(easytidymodels)
df <- data.frame(var1 = c(rep(1, 50), rep(0, 50)),
var2 = rnorm(100),
var3 = c(rnorm(55), rnorm(45, 5)))
split <- trainTestSplit(data = df)
library(easytidymodels)
df <- data.frame(var1 = c(rep(1, 50), rep(0, 50)),
var2 = rnorm(100),
var3 = c(rnorm(55), rnorm(45, 5)))
split <- trainTestSplit(data = df)
train_df <- split$datTrain
test_df <- split$datTest
boot_df <- split$datBoot
load_all()
library(easytidymodels)
df <- data.frame(var1 = c(rep(1, 50), rep(0, 50)),
var2 = rnorm(100),
var3 = c(rnorm(55), rnorm(45, 5)))
split <- trainTestSplit(data = df)
train_df <- split$train
test_df <- split$test
boot_df <- split$boot
build_readme()
check()
load_all()
install()
update.packages("tidymodels")
build_readme()
library(easytidymodels)
df <- data.frame(var1 = c(rep(1, 50), rep(0, 50)),
var2 = rnorm(100),
var3 = c(rnorm(55), rnorm(45, 5)))
split <- trainTestSplit(data = df, responseVar = "var1")
train_df <- split$train
test_df <- split$test
boot_df <- split$boot
df <- data.frame(var1 = as.factor(c(rep(1, 50), rep(0, 50))),
var2 = rnorm(100),
var3 = c(rnorm(55), rnorm(45, 5)))
use_r("cvFolds")
document()
document()
document()
load_all()
check()
use_package("tidyverse")
use_package("dplyr")
check()
check()
vfold_cv
require(rsample)
?vfold_cv
load_all()
check()
document()
install()
detach("package:testthat", unload = TRUE)
install()
remove.packages("vctrs")
install.packages("vctrs")
install.packages("vctrs")
?trainTestSplit
load_all()
require(usethis)
load_all()
require(devtools)
load_all()
